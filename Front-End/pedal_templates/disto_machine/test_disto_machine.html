<html>

<head>
    <title>Test Disto</title>
    <meta http-equiv="origin-trial" data-feature="AudioWorklet" data-expires="2018-03-06" content="AuqouVYOpuBqGUbQMwRTvnR9R5K1T0u5vw5KUqvZQSNox/gKa/dGig1VWcPYXUzuHN1OtTijH+lhVjg8has9RggAAABseyJvcmlnaW4iOiJodHRwczovL3dhc2FiaS5pM3MudW5pY2UuZnI6NDQzIiwiZmVhdHVyZSI6IkF1ZGlvV29ya2xldCIsImV4cGlyeSI6MTUyMDI5NDQwMCwiaXNTdWJkb21haW4iOnRydWV9">
</head>

<script src="disto/WebAudioSDK.js"></script>
<script src="disto/main.js"></script>

<body>

    
    

</body>

<script>

    var ctx = new AudioContext();
    var player = document.getElementById("soundSample");

    
    
    
    const numberofamp = 1;

    var pluginURL = "./disto";
    var plugin = new window.WasabiDistoMachine(ctx, pluginURL);

    function launchWAP() {
        return new Promise((resolve, reject) => {
            plugin.load().then((node) => {

                plugin.loadGui().then((elem) => {
                    document.body.appendChild(elem);
                    
                });

                
            })
        });
    }


    (async function loop() {
        for (let i = 0; i < numberofamp; i++) {
            launchWAP();
        }
    })();




</script>

</html>